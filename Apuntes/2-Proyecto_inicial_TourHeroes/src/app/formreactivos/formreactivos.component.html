<h2>Formularios reactivos</h2>
<hr />

<div class="row">
  <div class="col">
    <form [formGroup]="miFormulario" (ngSubmit)="guardar()">
      <!-- Cuando se le de al submit, ejecuta el método guardar() -->
      <!-- Nombre -->
      <div class="row">
        <label class="col-sm-3 col form-label">Nombre</label>
        <div class="col-sm-6">
          <input
            type="text"
            class="form-control bg-dark text-white"
            formControlName="nombre"
          />

          <span
            class="form-text text-danger"
            *ngIf="
              miFormulario.controls['nombre'].errors?.['required'] &&
              miFormulario.controls['nombre'].touched
            "
            >No puede estar vacío</span
          >
          <span
            class="form-text text-danger"
            *ngIf="
              miFormulario.controls['nombre'].errors?.['minlength'] &&
              miFormulario.controls['nombre'].touched
            "
            >Debe tener más de 4 caracteres</span
          >
        </div>
      </div>
      <div class="row mt-3">
        <label class="col-sm-3 col form-label">Año de nacimiento</label>
        <div class="col-sm-6">
          <input
            type="number"
            class="form-control bg-dark text-white"
            formControlName="nacimiento"
          />

          <span
            class="form-text text-danger"
            *ngIf="
              miFormulario.controls['nacimiento'].errors &&
              miFormulario.controls['nacimiento'].touched
            "
            >No puede estar vacío y el año de nacimiento debe ser mayor a
            1920</span
          >
        </div>
      </div>

      <div class="form-check mt-3">
        <input
          class="form-check-input"
          type="radio"
          id="flexRadioDefault1"
          value="S"
          formControlName="tieneHijos"
        />
        <label class="form-check-label" for="flexRadioDefault1"> Sí </label>
      </div>
      <div class="form-check">
        <input
          class="form-check-input"
          type="radio"
          id="flexRadioDefault2"
          value="N"
          formControlName="tieneHijos"
        />
        <label class="form-check-label" for="flexRadioDefault2"> No </label>
      </div>

      <span
        class="form-text text-danger"
        *ngIf="
          miFormulario.controls['tieneHijos'].errors &&
          miFormulario.controls['tieneHijos'].touched
        "
        >No puede estar vacio</span
      >

      <div class="row mt-3">
        <div class="col-9">
          <button class="btn btn-primary float-end" type="submit">
            Guardar
          </button>
          <!-- También podemos poner [disabled]="miFormulario.invalid" para deshabilitar el botón si hay errores -->
        </div>
      </div>
    </form>
  </div>
</div>

<span>Valido</span>
<pre>{{ miFormulario.valid }}</pre>

<span>Pristine (no modificado)</span>
<pre>{{ miFormulario.pristine }}</pre>

<span>Dirty (modificado)</span>
<pre>{{ miFormulario.dirty }}</pre>

<span>Touched</span>
<pre>{{ miFormulario.touched }}</pre>

<span>Untouched</span>
<pre>{{ miFormulario.touched }}</pre>

<span>Valor</span>
<pre>{{ miFormulario.value | json }}</pre>

<span>Errors</span>
<pre>{{ miFormulario.controls["nombre"].errors | json }}</pre>
